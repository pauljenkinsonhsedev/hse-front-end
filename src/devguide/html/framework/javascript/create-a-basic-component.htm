<!DOCTYPE html>
<html lang="en-GB"><!-- InstanceBegin template="/Templates/dev-kit.dwt" codeOutsideHTMLIsLocked="false" -->
<head>

<meta charset="utf-8">
	



<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- v5.1.1 -->



<link rel="stylesheet" href="../../assets/v5-css/v5.min.css" type="text/css" media="screen,print" />
<style>
#globalSearch {
display: none;
}	
</style>



<!-- Page title and meta -->
	
<!-- InstanceBeginEditable name="doctitle" -->
<title>Creating a basic component in Javascript - HSE.GOV.UK Design System</title>
<meta name="Description" content="HSE's job is to protect people against risks to health or safety arising out of work activities. Provides advice, guidance, regulations and inspections." />
<meta name="Keywords" content="HSE, health and safety executive,  occupational ill-health, occupational health and safety, accident, safety, employee safety, health and safety at work act, law" />
<!-- Custom CSS -->
<!-- InstanceEndEditable -->
<meta name="HSE.contentType" content="default" />
<link rel="shortcut icon" href="../../favicon.ico" />
<link rel="apple-touch-icon" href="../../assets/v4-images/shared/apple-touch-icon.png" />
<link rel="home" href="../../index.htm" />


<!-- ie 11 fix for left-hand navigation --> 
<script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script>


</head>
<body class="template normalFont">

<section id="top" aria-label="Skip to content">  <a href="#contentContainer" class="skip">Skip to content</a>  </section>
 
<section id="printBanner" aria-label="Print banner"> <img src="../../assets/v4-images/website/print/print-logo.jpg" width="193" height="65" alt="Health and Safety Executive" id="printLogo"/> </section>
<header id="headerContainer">
  <div id="header">
    <div class="headerTop header js-header">
		 
		<div id="headerLogo" class="headerLogo"><a href="../../index.htm">Health and Safety<br />
        Executive</a></div>
		
		 
		
      <div id="globalSearch" class="desktop-gcs-search">
        <gcse:searchbox-only></gcse:searchbox-only>
      </div>
    </div>
    
    <!-- JS Main Navigation -->
    
    <div class="menuContainer">
      <nav id="main-menu"  class="menu js-menu">
        <ul>
          <li class="home"><a href="../../index.htm">Design system</a></li>
          <li class="style"><a href="../../style/index.htm">Styles</a></li>
          <li class="components"><a href="../../components/index.htm">Components</a></li>
          <li class="patterns"><a href="../../patterns/index.htm">Patterns</a></li>
          <li class="template"><a href="../index.htm">Framework</a></li>
        </ul>
      </nav>
    </div>
  </div>
   </header>
   
<nav id="breadCrumb" aria-label="Previous pages:">
  <div class="breadCrumbContainer"> <!-- InstanceBeginEditable name="Breadcrumbs" -->
		<ol>
			<li class="home"><a href="../index.htm">Design System</a></li>
			<li><a href="index.htm">Framework</a></li>
			<li>Creating a basic component in Javascript</li>
		</ol>
		<!-- InstanceEndEditable --> </div>
  <div id="backTo">
    <p class="backto"><a id="backnav" href="index.htm">Back to</a></p>
  </div>
</nav>
 
<div id="pageContainer" class="v5" xmlns:argot="http://purl.oclc.org/argot/" xmlns:dc="http://purl.org/dc/terms/" xmlns:foaf="http://xmlns.com/foaf/0.1/" xmlns:v="http://www.w3.org/2006/vcard/ns#" xmlns:dbp="http://dbpedia.org/resource/">
<!-- InstanceBeginEditable name="beta-survey" -->


<!-- InstanceEndEditable -->   

<!-- Beta content page --> 

  
<nav id="navSecondary" aria-label="Secondary"> <!-- InstanceBeginEditable name="Subnav" --><!-- #BeginLibraryItem "/Library/_v5-framework.lbi" -->
  <div id="menu" class="slinky-menu slinky-theme-default">
    <ul>
      <li class="first"><a href="../index.htm">Framework</a></li>
      <li><a href="#">Template</a>
        <ul>
          <li><a href="../template/template.htm">Applying template</a></li>
          <li><a href="../template/regions.htm">Editable regions</a></li>
          <li><a href="../template/param.htm">Parameters</a></li>
          <li><a href="../template/accessibility.htm">Accessibility</a></li>
          <li><a href="#">Components</a>
            <ul>
              <li><a href="../components/index.htm">Overview</a></li>
              <li><a href="../components/notification-banner.htm">Notification banner</a></li>
              <li><a href="../components/user-satisfaction.htm">User satisfaction</a></li>
              <li><a href="../components/document-title-meta.htm">Document title and meta elements</a></li>
              <li><a href="../components/page-notification.htm">Page notification</a></li>
              <li><a href="../components/breadcrumbs.htm">Breadcrumbs</a></li>
              <li><a href="../components/beta-banner.htm">Beta survey</a></li>
              <li><a href="../components/secondary-nav.htm">Secondary navigation</a></li>
              <li><a href="../components/cookies.htm">Cookie banner</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#">Workflow</a>
        <ul>
          <li><a href="../workflow/index.htm">Workflow</a></li>
          <li><a href="#">Gitflow</a>
            <ul>
              <li><a href="../workflow/gitflow.htm">Gitflow</a></li>
              <li><a href="../workflow/gitflow-features.htm">Feature branches</a></li>
              <li><a href="../workflow/gitflow-releases.htm">Release branches</a></li>
              <li><a href="../workflow/gitflow-hotfixes.htm">Hotfixes</a></li>
            </ul>
          </li>
          <li><a href="../workflow/client-tools.htm">Git-client management tools</a></li>
        </ul>
      </li>
      <li><a href="#">Testing</a>
        <ul>
          <li><a href="../testing/index.htm">Overview</a></li>
          <li><a href="../testing/browsers-devices.htm">Browsers and devices</a></li>
          <li><a href="../testing/test.htm">Test page</a></li>
        </ul>
      </li>
      <li><a href="#">Javascript</a>
        <ul>
          <li><a href="index.htm">Overview</a></li>
          <li><a href="create-a-basic-component.htm">Create a component</a></li>
        </ul>
      </li>
    </ul>
  </div>
<!-- #EndLibraryItem --><!-- InstanceEndEditable --> </nav>

<main id="contentContainer" class="columnbetacontentpage column2">
 
	
<!-- InstanceBeginEditable name="content" -->

  <h1>Creating a basic component in Javascript</h1>

  <p>Components typically live in the <strong>'combined'</strong> folder: <strong>'src/shared/js/combined'</strong> and imported in the master file <strong>'src/shared/js/v5-main.js'</strong>. The tutorial below steps you through how to create a new component from start to finish.</p>

  <h2>Tutorial</h2>
  <p>For this exercise we are going to create a simple form field, watch for key presses and then display the typed text. Let's begin with some simple html that we can start to manipulate with javascript.
  <h3>Step 1 - Markup</h3>
  <p>Paste this html into a page so we can get started.</p>
  <pre><code class="language-markup">&lt;div class="component-container"&gt;
  &lt;div class="form-group"&gt;
    &lt;label for="input" class="label"&gt;Enter a value&lt;/label&gt;
    &lt;input type="text" id="input" name="input" class="input-text input-width-l component-input" /&gt;
  &lt;/div&gt;
  &lt;div class="component-results"&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>

  <h3>Step 2 - Create a Javascript module</h3>
  <p>Create a file called <strong>'example.js'</strong> in the <strong>'combined'</strong> folder like so: <strong>'src/shared/js/combined/example.js'</strong></p>
  <h3>Step 3 - Export a function</h3>
  <p>In our new file we are going to export a function called <strong>'myComponent'</strong>.  This function will check for an element on the page to begin with and then run the rest of the script if a component exists on the page.</p>
  <pre><code class="language-js">export function myComponent() {
  // ... our code will go here
}</code></pre>
<h3>Step 4 - Call the exported function</h3>
<p>Now we must include this function in the <strong>'src/shared/js/v5-main.js'</strong> file. At the top we must first import our function from our component file.</p>
<pre><code class="language-js">import { myComponent } from './combined/example.js';</code></pre>
<p>Next we need to use this imported function on document load</p>
<pre><code class="language-js">window.addEventListener('DOMContentLoaded',() => {
  // ...
  myComponent();
});</code></pre>
<h3>Step 5 - Check the component exists on the page</h3>
<p>First we are going to check that there is a class on the page of <strong>'component-container'</strong>. In most cases there won't always be a component on every page so we first want to check it exists before proceeding any further.</p>
<p>Let's declare a variable for the container and check if it exists with an if statement.</p>
<pre><code class="language-js">export function myComponent() {
  const container = document.querySelector('.component-container');
  if (!container) {
    return;
  }
  alert('We have a container!!!');
  // ... rest of our code will start here if 'component-container' exists
}</code></pre>
<p>Now check your page in a browser and if all has been successful we should get an alert box with <strong>'We have a container!!!'</strong>. You can now discard this line as you know the function is being called correctly. Now we will proceed with some functionality.</p>
<h3>Step 6 - Creating the functionality for the component</h3>
<p>Now we have successfully imported our function lets begin to add some functionality. Remove the alert function we have just written and add the following:</p>
<pre><code class="language-js">export function myComponent() {
  const input = document.querySelector('.component-input');
  const results = document.querySelector('.component-results');
  input.addEventListener('keyup', (e) => {
      const result = e.target.value;
      results.innerHTML = result;
    }
  );
}</code></pre>

<!-- InstanceEndEditable -->
	
 

<!-- Beta two column (top task) --> 

   </main>

</div>

<nav id="footer-nav" aria-label="Footer menu">
  <footer id="footerContainer">
    <div id="footer">
      <h2 class="visually-hidden">Footer links</h2>
      <div class="footer-links-container">
       
      </div>
    </div>
    <div id="baseStrip">
      <div id="baseStripInner">
        <p>HSE aims to reduce work-related death, injury and ill health.</p>
      </div>
    </div>
  </footer>
</nav>
<section id="lastUpdated" aria-label="Last updated">
<!-- InstanceBeginEditable name="updated" --> Updated:
	<!-- #BeginDate format:IS1 -->2021-08-12<!-- #EndDate -->
	<!-- InstanceEndEditable -->
</section>
<script src="../../assets/v5-js/v5-main.min.js"></script>
<script src="../../assets/v5-js/jquery.min.js"></script> 
<script src="../../assets/v5-js/v5-footer.min.js"></script> 

	
 
<script src="../../assets/v5-js/v5-footer-slinky-js.min.js"></script> 





<div id="gutter"><!-- InstanceBeginEditable name="gutter" --> <!-- InstanceEndEditable --></div>

<!-- SiteImprove JS --> 
<script type="text/javascript">
	
// removes cellspacing & cellpadding attributes from GCS (Assesibility fix)
window.onload = function(){

var searchTable = document.querySelector('table.gsc-search-box');
var searchTable2 = document.querySelector('table.gsc-input');
var searchTable3 = document.querySelector('table.gssb_c');
var searchInput = document.querySelector('input.gsc-input');

searchTable.removeAttribute('cellpadding');
searchTable2.removeAttribute('cellpadding');
searchTable3.removeAttribute('cellpadding');
searchInput.removeAttribute('cellpadding');

searchTable.removeAttribute('cellspacing');
searchTable2.removeAttribute('cellspacing');
searchTable3.removeAttribute('cellspacing');
searchInput.removeAttribute('cellspacing');
};	
</script> 
	
<!-- InstanceParam name="bodyClass" type="text" value="template" --> 
<!-- InstanceParam name="layout" type="text" value="betacontentpage" --> 
<!-- InstanceParam name="columnLayout" type="number" value="2" --> 
<!-- InstanceParam name="platform" type="text" value="v5" --> 
<!-- InstanceParam name="rdfa" type="boolean" value="false" --> 
<!-- InstanceParam name="welsh" type="boolean" value="false" --> 
<!-- InstanceParam name="homepage" type="boolean" value="false" --> 
<!-- InstanceParam name="weblite" type="boolean" value="false" --> 
<!-- InstanceParam name="feedback" type="boolean" value="true" --> 
<!-- InstanceParam name="contentType" type="text" value="default" --> 
<!-- InstanceParam name="notificationBar" type="boolean" value="false" --> 
<!-- InstanceParam name="printGuide" type="boolean" value="false" -->
</body>
<!-- InstanceEnd --></html>